# Pharos-collaboration-and-control

#目标

在无人机场景中，在每个时刻下计算每个无人机的安全空间，希望在安全空间尽量大的情况下保证无人机自身飞行的安全。

如图空间直角坐标系XOY，当前有n个无人机，每个无人机的坐标(x_i,y_i,z_i)，如下图，各自对应的矩形框为实时分配给无人机的安全空间，满足约束：

(1)无人机各自的安全空间为当前独享，不与其他无人机产生交叉空即冲突；

(2) 在保障不产生冲突的情况下，应当给每个无人机分配尽可能大的空间，以便无人机能尽快完成各自的飞行任务。

![model](/Users/sunlin/Desktop/灯塔系统/灯塔小论文/图片/model.png)

#目标使用算法：MAPPO算法，多智能体深度强化学习算法，每个智能体代表一个无人机，智能体共享一个critic策略网络，共享一个reward R，对于任意一个agent i的参数设置如下：

1. action

每个agent的动作空间如公式(1)，表示无人机分别在坐标系的六个方向的可移动空间范围，每个方向的取值为自然数(由于每个方向标记+和-，所以取值为自然数即可)，共同组成最终立方体的安全空间

2. state

   其中公式(2)表示每个无人机的基本信息元祖，包含其坐标位置和速度(矢量)信息

   对于每个agent的状态S_i在公式(3)中表示，包含无人机当前的基本信息和安全空间的实际大小

3. observation

   每个无人机的观测信息为其本身和距离最近的k个无人机信息，表示在公式(5)中的O_i

![model-obs](/Users/sunlin/Desktop/灯塔系统/灯塔小论文/图片/model-arg.png)

4. 奖励R，全局共享奖励函数

公式(5) t_i 代表无人机 i 在自己的安全区域，离四面边界的飞行时间，取最小值表示安全时间，表示在这个时间内无人机绝不会突破自己的安全空间，用以满足目标中的约束(2)。

公式(6)表示最终的奖励值R的定义，其中中d_{i,j} 表示无人机 i 和无人机 j 的安全区域边界之间的最小距离，奖励整体分为两部分，分别为无人机的安全时间尽量大，不同的安全区域之间的距离尽量的大，alpha和beta表示两部分的权重参数（实际大小可调）。